[httpd]
{% if couchdb_node_conf_port is defined %}
port = {{couchdb_node_conf_port}}
{% else %}
;port = 5986
{% endif %}
{% if couchdb_network_iface is defined %}
bind_address = {{ hostvars[inventory_hostname]["ansible_" + couchdb_network_iface]["ipv4"]["address"] }}
{% elif couchdb_network_address is defined %}
bind_address = {{ couchdb_network_address }}
{% else %}
;bind_address = 127.0.0.1
{% endif %}
{% if couchdb_server_options is defined %}
server_options = {{ couchdb_server_options }}
{% else %}
; Options for the MochiWeb HTTP server.
;server_options = [{backlog, 128}, {acceptor_pool_size, 16}]
{% endif %}
{% if couchdb_socket_options is defined %}
socket_options = {{ couchdb_socket_options }}
{% else %}
; For more socket options, consult Erlang's module 'inet' man page.
;socket_options = [{recbuf, 262144}, {sndbuf, 262144}, {nodelay, true}]
{% endif %}
